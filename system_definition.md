# GPU Genie システム要件定義書

## 概要

GPU Genieは、自然言語による直感的な予約インターフェースとAIによる優先度判定機能を備えたGPUサーバーリソース管理システムです。従来の属人的な手動予約による非効率性を解決し、公平で自動化された予約体験を提供します。

## システム構成

AWSマネージドサービスを活用したサーバーレスアーキテクチャ：

```
ユーザー → CloudFront → S3 (Next.js静的エクスポート) → API Gateway → Lambda → DynamoDB
                                                            ↓
                                                    Amazon Bedrock (AI判定)
```

## 主要機能

### ユーザー機能

**FU-01: ユーザー認証機能**
- ログイン・ログアウト機能
- 個人予約情報へのアクセス制御

**FU-02: 自然言語による予約登録機能**
- 例：「明日15時から3時間、V100を2台予約」
- システムが自然言語を解釈して予約処理を実行

**FU-03: 予約確認・一覧表示機能**
- 自身の予約状況（確定済み、拒否確認待ち）を一覧表示

**FU-04: 予約キャンセル機能**
- 確定済み予約のキャンセル操作

**FU-05: 予約の拒否確認・操作機能**
- 競合による拒否確認待ちステータスの確認・操作

### 管理者機能

**FA-01: 全予約の管理・監視機能**
- 全ユーザーの予約状況確認
- 特定予約の強制キャンセル機能

**FA-02: サーバーリソース管理機能**（任意要件）
- GPUサーバーの追加・編集・削除

### システム機能

**FS-01: 予約競合時のAI優先度判定機能**
- Amazon Bedrockを利用したAI判定
- ジョブの重要性、ユーザー実績等を考慮した優先度判定

**FS-02: 拒否確認ワークフロー機能**
- 低優先度予約の即時拒否を回避
- ユーザー承認による段階的拒否プロセス

## 技術スタック

### フロントエンド
- Next.js（React フレームワーク）
- 静的サイト生成（SSG）またはサーバーサイド生成（SSG）
- Amazon S3ホスティング（静的エクスポート）
- Amazon CloudFront配信
- TypeScript対応（推奨）

### バックエンド
- AWS Lambda（Node.js/Python）
- Amazon API Gateway（RESTful API）
- Amazon DynamoDB（NoSQL）
- Amazon Bedrock（AI判定）

### 認証・セキュリティ
- Amazon Cognito（ユーザー認証）
- AWS IAM（アクセス管理）
- HTTPS通信の暗号化

### インフラ管理
- Terraform（Infrastructure as Code）
- Next.js Build & Export の自動化
- 管理対象：S3, CloudFront, Lambda, DynamoDB, API Gateway, Cognito, IAM

## 非機能要件

### 性能要件
- 自然言語入力から予約結果まで5秒以内の応答

### 可用性
- AWSマネージドサービスのSLAに基づく高可用性

### セキュリティ
- 最小権限の原則に基づくアクセス制御
- 全通信のHTTPS暗号化

### UI/UX
- 直感的で使いやすいインターフェース
- ストレスフリーな拒否確認プロセス

## 将来的な拡張機能

- 優先度判定ロジックの自己学習機能
- SNS/SESによる外部通知連携
- 利用パターン学習による自動優先度判定

## インフラのコード化

Terraformによる管理対象リソース：
- Amazon S3バケット（Next.js静的エクスポート用）
- Amazon CloudFrontディストリビューション
- AWS Lambda関数および設定
- Amazon DynamoDBテーブル
- Amazon API Gateway設定
- Amazon Cognitoユーザープール
- AWS IAMロール・ポリシー
- CI/CDパイプライン（Next.js Build & Deploy）

### Next.js デプロイメント戦略
- `next export`による静的サイト生成
- S3への自動デプロイ
- CloudFrontキャッシュの無効化
- 環境変数管理（開発・本番環境分離）

### メリット
- 再現性：複数環境の迅速・同一構築
- バージョン管理：Git管理による変更履歴追跡
- 自動化：Next.jsビルド・デプロイの完全自動化
- 可視性：コードがドキュメントとして機能
- モダンフロントエンド：React生態系とTypeScriptの活用

## 対象ユーザー

- **一般ユーザー**：GPUサーバーを利用する研究者・開発者
- **管理者**：システム・サーバーリソース管理担当者

## 期待効果

- GPUサーバー運用効率の最大化
- 公平でストレスのない予約体験の提供
- 属人的な手動予約からの脱却
- リソース使用率の向上